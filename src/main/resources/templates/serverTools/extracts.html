<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{__${'layouts/intranet-layout-'+layoutMode}__}">
<head>
    <title th:utext="#{page.server_tools.extracts}"></title>
</head>
<body>
    <th:block layout:fragment="content">
        <h3 th:utext="#{page.server_tools.extracts}">Extracts</h3>
        <section class="container-fluid">
            <div class="row">
                <div class="col-md-4">
                    <label for="extractClass" th:utext="#{field.available_extracts}">Select from these available extracts</label>
                </div>
                <div class="col-md-5">
                    <select id="extractClass" name="extractClass" class="full-width">
                        <th:block th:each="ec : ${@lookupService.getLookupsByKey('extractTypes', true)}">
                            <option th:value="${ec.value}" th:utext="${ec.text}">Extract</option>
                        </th:block>
                    </select>
                </div>
                <div class="col-md-3">
                    <button th:if="${__${T(ca.gc.dfo.psffs.web.security.SecurityHelper).TH_EL('EL_EXECUTE_EXTRACTS')}__}" id="btnExecute" type="button" class="btn btn-primary" th:utext="#{btn.execute}" th:disabled="${true}">Execute</button>
                    <button id="btnRefresh" type="button" class="btn btn-default" th:utext="#{btn.refresh_list}">Refresh List</button>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12" id="extractTableContainer">
                    <hr />
                    <div class="table-responsive">
                        <table class="table table-hover" id="extractTable">
                            <thead>
                                <tr>
                                    <th style="width: 60%;">-</th>
                                    <th style="width: 20%;" th:utext="#{table.header.type}">Type</th>
                                    <th style="width: 20%;" th:utext="#{table.header.created}">Created</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
    </th:block>
    <!-- 	Global Layout JS -->
    <th:block layout:fragment="scripts">
        <script th:inline="javascript" type="text/javascript">
            var listPath = /*[[@{__${T(ca.gc.dfo.psffs.controllers.ServerToolsController).EXTRACTS_LIST_PATH}__}]]*/'fail';
            var downloadPath = /*[[@{__${T(ca.gc.dfo.psffs.controllers.ServerToolsController).EXTRACT_DOWNLOAD_PATH}__}]]*/'fail';
            var executePath = /*[[@{__${T(ca.gc.dfo.psffs.controllers.ServerToolsController).EXTRACT_EXECUTE_PATH}__}]]*/'fail';
        </script>
        <script th:src="@{/js/extracts.js}" type="text/javascript"></script>
    </th:block>
</body>
</html>